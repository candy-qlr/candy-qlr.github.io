(self.webpackChunkvuepress_blog=self.webpackChunkvuepress_blog||[]).push([[773],{694:(n,s,a)=>{"use strict";a.r(s),a.d(s,{data:()=>l});const l={key:"v-239d8dc4",path:"/guide/SSR/nuxtjs.html",title:"NuxtJs",lang:"en-US",frontmatter:{title:"NuxtJs"},excerpt:"",headers:[{level:2,title:"介绍",slug:"介绍",children:[{level:3,title:"1. 使用方式",slug:"_1-使用方式",children:[]},{level:3,title:"2. 路由",slug:"_2-路由",children:[]},{level:3,title:"3. 目录结构",slug:"_3-目录结构",children:[]},{level:3,title:"4. 异步数据 asyncData",slug:"_4-异步数据-asyncdata",children:[]},{level:3,title:"5. 生命周期",slug:"_5-生命周期",children:[]},{level:3,title:"6. nuxt 渲染流程",slug:"_6-nuxt-渲染流程",children:[]},{level:3,title:"7. nuxt 命令",slug:"_7-nuxt-命令",children:[]}]},{level:2,title:"部署",slug:"部署",children:[{level:3,title:"1. 最简单的部署方式",slug:"_1-最简单的部署方式",children:[]},{level:3,title:"2. 使用 PM2 启动 Node 服务，在后台运行应用",slug:"_2-使用-pm2-启动-node-服务-在后台运行应用",children:[]},{level:3,title:"3. 自动化部署",slug:"_3-自动化部署",children:[]}]}],filePathRelative:"guide/SSR/nuxtjs.md",git:{updatedTime:1625304364e3,contributors:[]}}},152:(n,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>rn});var l=a(6252);const t=a.p+"assets/img/nuxt.87be5868.jpg",e=a.p+"assets/img/部署.f4600839.jpg",m=(0,l.Wm)("h2",{id:"介绍"},[(0,l.Wm)("a",{class:"header-anchor",href:"#介绍"},"#"),(0,l.Uk)(" 介绍")],-1),u=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"一个基于 Vue.js 生态的第三方开源服务端渲染应用框架")],-1),p=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"它可以帮我们轻松的使用 Vue.js 技术栈构建同构应用")],-1),c={href:"https://zh.nuxtjs.org",target:"_blank",rel:"noopener noreferrer"},o=(0,l.Uk)("https://zh.nuxtjs.org"),W={href:"https://github.com/nuxt/nuxt.js",target:"_blank",rel:"noopener noreferrer"},i=(0,l.Uk)("Github 仓库"),k=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"nuxtjs 预设了利用 Vue.js 开发服务端渲染的应用所需要的各种配置")],-1),r=(0,l.Wm)("h3",{id:"_1-使用方式"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_1-使用方式"},"#"),(0,l.Uk)(" 1. 使用方式")],-1),b=(0,l.Wm)("ol",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"初始项目"),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-bash"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token function"},"npm"),(0,l.Uk)(" init nuxt-app "),(0,l.Wm)("span",{class:"token operator"},"<"),(0,l.Uk)("project-name"),(0,l.Wm)("span",{class:"token operator"},">"),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br")])])]),(0,l.Wm)("li",null,[(0,l.Wm)("div",{class:"language-bash ext-sh line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-bash"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token function"},"mkdir"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token operator"},"<"),(0,l.Uk)("project-name"),(0,l.Wm)("span",{class:"token operator"},">"),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token builtin class-name"},"cd"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token operator"},"<"),(0,l.Uk)("project-name"),(0,l.Wm)("span",{class:"token operator"},">"),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token function"},"touch"),(0,l.Uk)(" package.json\n\n// package.json\n"),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token string"},'"name"'),(0,l.Wm)("span",{class:"token builtin class-name"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token string"},'"my-app"'),(0,l.Uk)(",\n  "),(0,l.Wm)("span",{class:"token string"},'"scripts"'),(0,l.Wm)("span",{class:"token builtin class-name"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token string"},'"dev"'),(0,l.Wm)("span",{class:"token builtin class-name"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token string"},'"nuxt"'),(0,l.Uk)(",\n    "),(0,l.Wm)("span",{class:"token string"},'"build"'),(0,l.Wm)("span",{class:"token builtin class-name"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token string"},'"nuxt build"'),(0,l.Uk)(",\n    "),(0,l.Wm)("span",{class:"token string"},'"generate"'),(0,l.Wm)("span",{class:"token builtin class-name"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token string"},'"nuxt generate"'),(0,l.Uk)(",\n    "),(0,l.Wm)("span",{class:"token string"},'"start"'),(0,l.Wm)("span",{class:"token builtin class-name"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token string"},'"nuxt start"'),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n\n"),(0,l.Wm)("span",{class:"token function"},"yarn"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token function"},"add"),(0,l.Uk)(" nuxt\n"),(0,l.Wm)("span",{class:"token function"},"mkdir"),(0,l.Uk)(" pages\n"),(0,l.Wm)("span",{class:"token function"},"touch"),(0,l.Uk)(" pages/index.vue\n"),(0,l.Wm)("span",{class:"token function"},"yarn"),(0,l.Uk)(" dev\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"7"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"8"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"9"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"10"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"11"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"12"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"13"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"14"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"15"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"16"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"17"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"18"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"19"),(0,l.Wm)("br")])])])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"已有的 Node.js 服务端项目"),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,"直接把 Nuxt 当做一个中间件集成到 Node Web Server 中")])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"现有的 Vue.js 项目"),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"非常熟悉 Nuxt.js")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"至少哦10% 的代码改动")])])])],-1),g=(0,l.Wm)("h3",{id:"_2-路由"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_2-路由"},"#"),(0,l.Uk)(" 2. 路由")],-1),d=(0,l.Wm)("p",null,[(0,l.Uk)("Nuxt.js自动生成的 "),(0,l.Wm)("code",null,"vue-router"),(0,l.Uk)("配置为你的基础在里面你提供Vue的文件 "),(0,l.Wm)("code",null,"pages"),(0,l.Uk)("，，，，和 目录")],-1),U=(0,l.Wm)("p",null,[(0,l.Uk)("对于指向您站点内页面的所有链接，请使用"),(0,l.Wm)("code",null,"<NuxtLink>"),(0,l.Uk)(". 如果您有其他网站的链接，则应使用该"),(0,l.Wm)("code",null,"<a>"),(0,l.Uk)("标签。请参阅下面的示例：")],-1),h=(0,l.Wm)("div",{class:"language-vue ext-vue line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-vue"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("main")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("h1")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("Home page"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("h1")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("NuxtLink")]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token attr-name"},"to"),(0,l.Wm)("span",{class:"token attr-value"},[(0,l.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,l.Wm)("span",{class:"token punctuation"},'"'),(0,l.Uk)("/about"),(0,l.Wm)("span",{class:"token punctuation"},'"')]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n      About (internal link that belongs to the Nuxt App)\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("NuxtLink")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("a")]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token attr-name"},"href"),(0,l.Wm)("span",{class:"token attr-value"},[(0,l.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,l.Wm)("span",{class:"token punctuation"},'"'),(0,l.Uk)("https://nuxtjs.org"),(0,l.Wm)("span",{class:"token punctuation"},'"')]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("External Link to another page"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("a")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("main")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"7"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"8"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"9"),(0,l.Wm)("br")])],-1),x=(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,"动态路由")]),(0,l.Wm)("p",null,[(0,l.Wm)("code",null,"pages/_slug.vue")]),(0,l.Wm)("p",null,[(0,l.Wm)("code",null,"pages/_continent/_mountain.vue")]),(0,l.Wm)("p",null,"当您不知道页面名称（因为它来自 API）或者您不想一遍又一遍地创建相同的页面时，可以创建动态页面。要创建动态页面，您需要在 .vue 文件名或目录名之前添加下划线，如果您希望目录是动态的。您可以随意命名文件或目录，但必须用下划线作为前缀。"),(0,l.Wm)("p",null,[(0,l.Uk)("如果您定义了"),(0,l.Wm)("code",null,"_slug.vue"),(0,l.Uk)("在 pages 文件夹中命名的文件，则可以使用带有 params.slug 的上下文访问该值")]),(0,l.Wm)("div",{class:"language-vue ext-vue line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-vue"},[(0,l.Wm)("code",null,[(0,l.Uk)("// pages/_slug.vue\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("h1")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("{{ this.slug }}"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("h1")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("script")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Wm)("span",{class:"token script"},[(0,l.Wm)("span",{class:"token language-javascript"},[(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token keyword"},"export"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token keyword"},"default"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token keyword"},"async"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token function"},"asyncData"),(0,l.Wm)("span",{class:"token punctuation"},"("),(0,l.Wm)("span",{class:"token parameter"},[(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)(" params "),(0,l.Wm)("span",{class:"token punctuation"},"}")]),(0,l.Wm)("span",{class:"token punctuation"},")"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token keyword"},"const"),(0,l.Uk)(" slug "),(0,l.Wm)("span",{class:"token operator"},"="),(0,l.Uk)(" params"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Uk)("slug "),(0,l.Wm)("span",{class:"token comment"},'// When calling /abc the slug will be "abc"'),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token keyword"},"return"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)(" slug "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n")])]),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("script")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"7"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"8"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"9"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"10"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"11"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"12"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"13"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"14"),(0,l.Wm)("br")])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,"嵌套路由")]),(0,l.Wm)("p",null,"使用 Nuxt Child 组件创建包含父页面和子页面的嵌套页面。"),(0,l.Wm)("p",null,"在此示例中:"),(0,l.Wm)("p",null,[(0,l.Wm)("code",null,"pages/parent.vue"),(0,l.Uk)(" 包含"),(0,l.Wm)("code",null,"<NuxtChild>"),(0,l.Uk)("组件。 此页面上的所有内容均可在父页面和子页面上看到。")]),(0,l.Wm)("p",null,[(0,l.Wm)("code",null,"pages/parent/index.vue"),(0,l.Uk)(" 包含子链接被点击时将替换的文本。")]),(0,l.Wm)("p",null,[(0,l.Wm)("code",null,"pages/parent/child.vue"),(0,l.Uk)(" and "),(0,l.Wm)("code",null,"pages/parent/child2.vue"),(0,l.Uk)(" 将被渲染为"),(0,l.Wm)("code",null,"parent / child"),(0,l.Uk)("和"),(0,l.Wm)("code",null,"parent / child2"),(0,l.Uk)("。")]),(0,l.Wm)("div",{class:"language-vue ext-vue line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-vue"},[(0,l.Wm)("code",null,[(0,l.Uk)("// parent.vue\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("div")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("h1")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("I am the parent view"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("h1")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("nav")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("ul")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n        "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("li")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n          "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("NuxtLink")]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token attr-name"},"to"),(0,l.Wm)("span",{class:"token attr-value"},[(0,l.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,l.Wm)("span",{class:"token punctuation"},'"'),(0,l.Uk)("/parent/child"),(0,l.Wm)("span",{class:"token punctuation"},'"')]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("Child"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("NuxtLink")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n        "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("li")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n        "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("li")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n          "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("NuxtLink")]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token attr-name"},"to"),(0,l.Wm)("span",{class:"token attr-value"},[(0,l.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,l.Wm)("span",{class:"token punctuation"},'"'),(0,l.Uk)("/parent/child2"),(0,l.Wm)("span",{class:"token punctuation"},'"')]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("Child 2"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("NuxtLink")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n        "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("li")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("ul")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("nav")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("NuxtChild")]),(0,l.Uk)("  "),(0,l.Wm)("span",{class:"token punctuation"},"/>")]),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("div")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"7"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"8"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"9"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"10"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"11"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"12"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"13"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"14"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"15"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"16"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"17"),(0,l.Wm)("br")])])])],-1),v=(0,l.Wm)("h3",{id:"_3-目录结构"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_3-目录结构"},"#"),(0,l.Uk)(" 3. 目录结构")],-1),f=(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,[(0,l.Wm)("code",null,"pages")])]),(0,l.Wm)("p",null,[(0,l.Uk)("该 "),(0,l.Wm)("code",null,"pages"),(0,l.Uk)(" 目录包含您的应用程序视图和路由。Nuxt.js 读取"),(0,l.Wm)("code",null,".vue"),(0,l.Uk)(" 此目录中的所有 文件并自动为您创建路由器配置。")]),(0,l.Wm)("p",null,"每个 Page 组件都是一个 Vue 组件，但 Nuxt.js 添加了特殊的属性和功能，使您的通用应用程序的开发尽可能简单。")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,[(0,l.Wm)("code",null,"components")])]),(0,l.Wm)("p",null,[(0,l.Uk)("该 "),(0,l.Wm)("code",null,"components"),(0,l.Uk)(" 目录是您放置所有 Vue.js 组件的地方，然后将这些组件导入到您的页面中。")]),(0,l.Wm)("p",null,"使用 Nuxt.js，您可以创建组件并将它们自动导入到 .vue 文件中，这意味着无需在脚本部分手动导入它们。一旦您将组件设置为 true，Nuxt.js 将扫描并自动导入这些组件。")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,[(0,l.Wm)("code",null,"assets")])]),(0,l.Wm)("p",null,[(0,l.Uk)("该 "),(0,l.Wm)("code",null,"assets"),(0,l.Uk)(" 目录包含未编译的资产，例如样式、图像或字体。")]),(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,"图片"),(0,l.Uk)("：")]),(0,l.Wm)("p",null,[(0,l.Uk)("在您的 "),(0,l.Wm)("code",null,"vue"),(0,l.Uk)(" 模板中，如果您需要链接到您的 "),(0,l.Wm)("code",null,"assets"),(0,l.Uk)(" 目录"),(0,l.Wm)("code",null,"~/assets/your_image.png"),(0,l.Uk)("，请在资产前使用斜杠。")]),(0,l.Wm)("div",{class:"language-html ext-html line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-html"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("img")]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token attr-name"},"src"),(0,l.Wm)("span",{class:"token attr-value"},[(0,l.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,l.Wm)("span",{class:"token punctuation"},'"'),(0,l.Uk)("~/assets/your_image.png"),(0,l.Wm)("span",{class:"token punctuation"},'"')]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"/>")]),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"</"),(0,l.Uk)("template")]),(0,l.Wm)("span",{class:"token punctuation"},">")]),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br")])]),(0,l.Wm)("p",null,[(0,l.Uk)("在您的 "),(0,l.Wm)("code",null,"css"),(0,l.Uk)(" 文件中，如果您需要引用您的 "),(0,l.Wm)("code",null,"assets"),(0,l.Uk)(" 目录，请使用"),(0,l.Wm)("code",null,"~assets/your_image.png"),(0,l.Uk)("（不带斜杠）")]),(0,l.Wm)("div",{class:"language-css ext-css line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-css"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token property"},"background"),(0,l.Wm)("span",{class:"token punctuation"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token url"},[(0,l.Wm)("span",{class:"token function"},"url"),(0,l.Wm)("span",{class:"token punctuation"},"("),(0,l.Wm)("span",{class:"token string url"},"'~assets/banner.svg'"),(0,l.Wm)("span",{class:"token punctuation"},")")]),(0,l.Wm)("span",{class:"token punctuation"},";"),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br")])]),(0,l.Wm)("p",null,"使用动态图像时，您需要使用 require"),(0,l.Wm)("div",{class:"language-html ext-html line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-html"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token tag"},[(0,l.Wm)("span",{class:"token punctuation"},"<"),(0,l.Uk)("img")]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token attr-name"},":src"),(0,l.Wm)("span",{class:"token attr-value"},[(0,l.Wm)("span",{class:"token punctuation attr-equals"},"="),(0,l.Wm)("span",{class:"token punctuation"},'"'),(0,l.Uk)("require(`~/assets/img/${image}.jpg`)"),(0,l.Wm)("span",{class:"token punctuation"},'"')]),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"/>")]),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br")])]),(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,"样式"),(0,l.Uk)("：")]),(0,l.Wm)("p",null,"Nuxt.js 允许您定义要全局设置的 CSS 文件/模块/库（包含在每个页面中）。在 nuxt.config 中，您可以使用 CSS 属性轻松添加样式。"),(0,l.Wm)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-javascript"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token comment"},"// nuxt.config.js"),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token keyword"},"export"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token keyword"},"default"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n  css"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"["),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token comment"},"// Load a Node.js module directly (here it's a Sass file)"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token string"},"'bulma'"),(0,l.Wm)("span",{class:"token punctuation"},","),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token comment"},"// CSS file in the project"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token string"},"'~/assets/css/main.css'"),(0,l.Wm)("span",{class:"token punctuation"},","),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token comment"},"// SCSS file in the project"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token string"},"'~/assets/css/main.scss'"),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token punctuation"},"]"),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"7"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"8"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"9"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"10"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"11"),(0,l.Wm)("br")])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,[(0,l.Wm)("code",null,"static")])]),(0,l.Wm)("p",null,[(0,l.Uk)("该 "),(0,l.Wm)("code",null,"static"),(0,l.Uk)(" 目录直接映射到服务器根目录并包含必须保留其名称（例如"),(0,l.Wm)("code",null,"robots.txt"),(0,l.Uk)("）"),(0,l.Wm)("em",null,"或"),(0,l.Uk)("可能不会更改（例如 favicon）的文件")])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,[(0,l.Wm)("code",null,"nuxt.config.js")])]),(0,l.Wm)("p",null,[(0,l.Uk)("该 "),(0,l.Wm)("code",null,"nuxt.config.js"),(0,l.Uk)(" 文件是 Nuxt.js 的单点配置。如果您想添加模块或覆盖默认设置，这是应用更改的地方。")])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("strong",null,[(0,l.Wm)("code",null,"package.json")])]),(0,l.Wm)("p",null,[(0,l.Uk)("该 "),(0,l.Wm)("code",null,"package.json"),(0,l.Uk)(" 文件包含应用程序的所有依赖项和脚本。")])])],-1),j=(0,l.Wm)("h3",{id:"_4-异步数据-asyncdata"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_4-异步数据-asyncdata"},"#"),(0,l.Uk)(" 4. 异步数据 asyncData")],-1),_=(0,l.Wm)("ol",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"专门用于获取页面服务端渲染的数据")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"asyncData 只有页面组件中才调用，子组件不会触发调用，，要使用数据的话，需要页面组件传给子组件")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"asyncData 中没有 this")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"当你想要动态页面内容有利于 SEO 或者是提升首屏渲染速度的时候，就在 asyncData 中发请求拿数据")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"上下文对象"),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,"获取路由参数 context.route.params 或者 context.params")]),(0,l.Wm)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-javascript"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token keyword"},"async"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token function"},"asyncData"),(0,l.Wm)("span",{class:"token punctuation"},"("),(0,l.Wm)("span",{class:"token parameter"},"context"),(0,l.Wm)("span",{class:"token punctuation"},")"),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token keyword"},"const"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("data"),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token operator"},"="),(0,l.Uk)(),(0,l.Wm)("span",{class:"token keyword"},"await"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token function"},"axios"),(0,l.Wm)("span",{class:"token punctuation"},"("),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n        method"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Wm)("span",{class:"token string"},"'GET'"),(0,l.Wm)("span",{class:"token punctuation"},","),(0,l.Uk)("\n        "),(0,l.Wm)("span",{class:"token comment"},"// 静态资源访问：访问的是 static 目录下的 data.json 文件"),(0,l.Uk)("\n        url"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Wm)("span",{class:"token string"},"'http://localhost:3000/data.json'"),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Wm)("span",{class:"token punctuation"},")"),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token keyword"},"const"),(0,l.Uk)(" id "),(0,l.Wm)("span",{class:"token operator"},"="),(0,l.Uk)(),(0,l.Wm)("span",{class:"token constant"},"JSON"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Wm)("span",{class:"token function"},"parse"),(0,l.Wm)("span",{class:"token punctuation"},"("),(0,l.Uk)("context"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Uk)("params"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Uk)("id"),(0,l.Wm)("span",{class:"token punctuation"},")"),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token comment"},"// 这里返回的数据会和 data(){} 中的数据合并到一起给页面使用"),(0,l.Uk)("\n      "),(0,l.Wm)("span",{class:"token keyword"},"return"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n        name"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Uk)("data"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Uk)("posts"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Wm)("span",{class:"token function"},"find"),(0,l.Wm)("span",{class:"token punctuation"},"("),(0,l.Wm)("span",{class:"token parameter"},"item"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token operator"},"=>"),(0,l.Uk)(" item"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Uk)("id "),(0,l.Wm)("span",{class:"token operator"},"==="),(0,l.Uk)(" id"),(0,l.Wm)("span",{class:"token punctuation"},")"),(0,l.Wm)("span",{class:"token punctuation"},"."),(0,l.Uk)("name\n      "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n    "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"7"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"8"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"9"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"10"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"11"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"12"),(0,l.Wm)("br")])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"学习可以 建 static 目录，nuxt 会自动把 static 目录下的文件作为资源")])],-1),y=(0,l.Wm)("h3",{id:"_5-生命周期"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_5-生命周期"},"#"),(0,l.Uk)(" 5. 生命周期")],-1),w=(0,l.Wm)("ol",null,[(0,l.Wm)("li",null,[(0,l.Uk)("服务端生效的钩子函数 "),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,"beforeCreate"),(0,l.Wm)("li",null,"created"),(0,l.Wm)("li",null,"errorCaptured")])])],-1),N=(0,l.Wm)("h3",{id:"_6-nuxt-渲染流程"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_6-nuxt-渲染流程"},"#"),(0,l.Uk)(" 6. nuxt 渲染流程")],-1),q=(0,l.Wm)("p",null,[(0,l.Wm)("img",{src:t,alt:"img"})],-1),S=(0,l.Wm)("h3",{id:"_7-nuxt-命令"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_7-nuxt-命令"},"#"),(0,l.Uk)(" 7. nuxt 命令")],-1),C=(0,l.Wm)("table",null,[(0,l.Wm)("thead",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("th",null,"命令"),(0,l.Wm)("th",null,"描述")])]),(0,l.Wm)("tbody",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"nuxt"),(0,l.Wm)("td",null,"启动一个热加载的 web 服务器（开发模式）localhost:3000")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"nuxt build"),(0,l.Wm)("td",null,"利用 webpack 编译应用，压缩 JS 和 CSS 资源（发布用）")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"nuxt start"),(0,l.Wm)("td",null,"以生产模式启动一个 Web 服务器（需要先执行 nuxt build）")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"nuxt generate"),(0,l.Wm)("td",null,"编译应用，并依据路由配置生成对应的 HTML 文件（用于静态站点的部署）")])])],-1),L=(0,l.Wm)("h2",{id:"部署"},[(0,l.Wm)("a",{class:"header-anchor",href:"#部署"},"#"),(0,l.Uk)(" 部署")],-1),H=(0,l.Wm)("h3",{id:"_1-最简单的部署方式"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_1-最简单的部署方式"},"#"),(0,l.Uk)(" 1. 最简单的部署方式")],-1),z=(0,l.Wm)("ol",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"配置 Host + Port"),(0,l.Wm)("div",{class:"language-javascript ext-js line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-javascript"},[(0,l.Wm)("code",null,[(0,l.Wm)("span",{class:"token comment"},"// nuxt.config.js"),(0,l.Uk)("\n"),(0,l.Wm)("span",{class:"token comment"},"// 添加"),(0,l.Uk)("\n server"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token punctuation"},"{"),(0,l.Uk)("\n    host"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token string"},"'0.0.0.0'"),(0,l.Wm)("span",{class:"token punctuation"},","),(0,l.Uk)(),(0,l.Wm)("span",{class:"token comment"},"// "),(0,l.Uk)("\n    port"),(0,l.Wm)("span",{class:"token operator"},":"),(0,l.Uk)(),(0,l.Wm)("span",{class:"token number"},"3000"),(0,l.Uk)("\n  "),(0,l.Wm)("span",{class:"token punctuation"},"}"),(0,l.Uk)("\n")])]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"2"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"3"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"4"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"5"),(0,l.Wm)("br"),(0,l.Wm)("span",{class:"line-number"},"6"),(0,l.Wm)("br")])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"压缩发布包，压缩以下包上传"),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Wm)("p",null,".nuxt 打包生成的文件")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"static 静态资源")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"nuxt.config.js 配置")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"package.json")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"package-lock.json")])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"把发布包传到服务端"),(0,l.Wm)("ol",null,[(0,l.Wm)("li",null,[(0,l.Uk)("连接到服务端，命令 "),(0,l.Wm)("code",null,"ssh root@39.105.28.5")]),(0,l.Wm)("li",null,[(0,l.Uk)("查看 "),(0,l.Wm)("code",null," ls")]),(0,l.Wm)("li",null,[(0,l.Wm)("code",null," mkdir realworld-nuxtjs")]),(0,l.Wm)("li",null,[(0,l.Wm)("code",null,"cd realworld-nuxtjs")]),(0,l.Wm)("li",null,[(0,l.Uk)("打印路径 "),(0,l.Wm)("code",null,"pwd"),(0,l.Uk)("，复制路径")]),(0,l.Wm)("li",null,"退出 exit 服务端或者重新打开一个命令行窗口"),(0,l.Wm)("li",null,[(0,l.Uk)("把本地的压缩包传到远程服务器，路径不能有中文名 "),(0,l.Wm)("code",null,"scp ./realworld-nuxtjs.zip root@39.105.28.5:/root/realworld-nuxtjs")]),(0,l.Wm)("li",null,"连接服务器，查看ls"),(0,l.Wm)("li",null,[(0,l.Uk)("解压 "),(0,l.Wm)("code",null,"unzip realworld-nuxtjs.zip")]),(0,l.Wm)("li",null,[(0,l.Uk)("ls 查看,-a查看隐藏目录 "),(0,l.Wm)("code",null,"ls -a")]),(0,l.Wm)("li",null,[(0,l.Uk)("安装依赖 "),(0,l.Wm)("code",null,"npm i")]),(0,l.Wm)("li",null,[(0,l.Uk)("启动服务 "),(0,l.Wm)("code",null,"npm run start")]),(0,l.Wm)("li",null,"访问 公网IP + 端口号")])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"解压")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"安装依赖")]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"启动服务"),(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[(0,l.Uk)("连接服务器 "),(0,l.Wm)("code",null," ssh -o StrictHostKeyChecking=no root@106.75.182.115 ls")]),(0,l.Wm)("li",null,[(0,l.Uk)("创建目录 "),(0,l.Wm)("code",null,"mkdir realword-nuxtjs")]),(0,l.Wm)("li",null,[(0,l.Uk)("进入目录 "),(0,l.Wm)("code",null,"cd realword-nuxtjs")]),(0,l.Wm)("li",null,[(0,l.Uk)("查看路径 "),(0,l.Wm)("code",null," pwd")]),(0,l.Wm)("li",null,[(0,l.Uk)("退出 "),(0,l.Wm)("code",null,"exit")])])])],-1),M=(0,l.Wm)("h3",{id:"_2-使用-pm2-启动-node-服务-在后台运行应用"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_2-使用-pm2-启动-node-服务-在后台运行应用"},"#"),(0,l.Uk)(" 2. 使用 PM2 启动 Node 服务，在后台运行应用")],-1),D={href:"https://github.com/Unitech/pm",target:"_blank",rel:"noopener noreferrer"},I=(0,l.Uk)("https://github.com/Unitech/pm"),P={href:"https://pm2.io",target:"_blank",rel:"noopener noreferrer"},G=(0,l.Uk)("官方文档 https://pm2.io"),J=(0,l.Wm)("li",null,[(0,l.Uk)("服务端 安装 "),(0,l.Wm)("code",null,"npm install --global pm2")],-1),V=(0,l.Wm)("li",null,[(0,l.Uk)("启动 pm2 start 脚本路径 "),(0,l.Wm)("code",null,"pm2 start npm -- start")],-1),A=(0,l.Wm)("li",null,[(0,l.Uk)("关闭 "),(0,l.Wm)("code",null,"pm2 stop 6"),(0,l.Uk)("，6 是 id")],-1),T=(0,l.Wm)("h4",{id:"_2-1-pm2-常用命令"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_2-1-pm2-常用命令"},"#"),(0,l.Uk)(" 2.1 PM2 常用命令")],-1),O=(0,l.Wm)("table",null,[(0,l.Wm)("thead",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("th",null,"命令"),(0,l.Wm)("th",null,"说明")])]),(0,l.Wm)("tbody",null,[(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"pm2 list"),(0,l.Wm)("td",null,"查看应用列表")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"pm2 start"),(0,l.Wm)("td",null,"启动应用")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"pm2 stop"),(0,l.Wm)("td",null,"停止应用")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"pm2 reload"),(0,l.Wm)("td",null,"重载应用（原有实例慢慢消灭）")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"pm2 restart"),(0,l.Wm)("td",null,"重启应用（原有程序杀死，再开启）")]),(0,l.Wm)("tr",null,[(0,l.Wm)("td",null,"pm2 delete"),(0,l.Wm)("td",null,"删除应用")])])],-1),E=(0,l.Wm)("h3",{id:"_3-自动化部署"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_3-自动化部署"},"#"),(0,l.Uk)(" 3. 自动化部署")],-1),R=(0,l.Wm)("p",null,[(0,l.Wm)("img",{src:e,alt:"img"})],-1),B=(0,l.Wm)("h4",{id:"_3-1-ci-cd-服务"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_3-1-ci-cd-服务"},"#"),(0,l.Uk)(" 3.1 CI/CD 服务")],-1),F=(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,"Jenkins"),(0,l.Wm)("li",null,"Gitlab Ci"),(0,l.Wm)("li",null,"GitHub Actions 本案例采用"),(0,l.Wm)("li",null,"Travis CI"),(0,l.Wm)("li",null,"Circle CI")],-1),K=(0,l.Wm)("h4",{id:"_3-2-环境准备"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_3-2-环境准备"},"#"),(0,l.Uk)(" 3.2 环境准备")],-1),Q=(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,"Linux 服务器"),(0,l.Wm)("li",null,"把代码提交到 GitHub 远程仓库")],-1),Y=(0,l.Wm)("h4",{id:"_3-3-配置github-access-token"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_3-3-配置github-access-token"},"#"),(0,l.Uk)(" 3.3 配置GitHub Access Token")],-1),Z=(0,l.Wm)("p",null,"github 的 token",-1),$=(0,l.Wm)("p",null,"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",-1),X=(0,l.Wm)("p",null,"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",-1),nn=(0,l.Wm)("div",{class:"language-text ext-text line-numbers-mode"},[(0,l.Wm)("pre",{class:"language-text"},[(0,l.Wm)("code",null,"gridsome-blog token : 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\n")]),(0,l.Wm)("div",{class:"line-numbers"},[(0,l.Wm)("span",{class:"line-number"},"1"),(0,l.Wm)("br")])],-1),sn=(0,l.Uk)("生成： "),an={href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"},ln=(0,l.Uk)("https://github.com/settings/tokens"),tn=(0,l.Uk)("配置到项目的 Secrets 中："),en={href:"https://github.com/lipengzhou/realworld-nuxtjs/settings/secrets",target:"_blank",rel:"noopener noreferrer"},mn=(0,l.Uk)("https://github.com/lipengzhou/realworld-nuxtjs/settings/secrets"),un=(0,l.Wm)("h4",{id:"_3-4-配置-github-actions-执行脚本"},[(0,l.Wm)("a",{class:"header-anchor",href:"#_3-4-配置-github-actions-执行脚本"},"#"),(0,l.Uk)(" 3.4 配置 GitHub Actions 执行脚本")],-1),pn=(0,l.Wm)("li",null,[(0,l.Wm)("p",null,"在项目根目录创建 .github/workflows 目录")],-1),cn=(0,l.Wm)("p",null,"下载 main.yml 到 workflows 目录中",-1),on={href:"https://gist.github.com/lipengzhou/b92f80142afa37aea397da47366bd872",target:"_blank",rel:"noopener noreferrer"},Wn=(0,l.Uk)("https://gist.github.com/lipengzhou/b92f80142afa37aea397da47366bd872"),kn=(0,l.uE)('<li><p>修改配置</p></li><li><p>配置 PM2 配置文件</p><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token comment">// pm2.config.json</span>\n<span class="token punctuation">{</span>\n\t<span class="token property">&quot;apps&quot;</span><span class="token operator">:</span><span class="token punctuation">[</span>\n\t\t<span class="token punctuation">{</span>\n\t\t\t<span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;RealWorld&quot;</span><span class="token punctuation">,</span>\n\t\t\t<span class="token property">&quot;script&quot;</span><span class="token operator">:</span><span class="token string">&quot;npm&quot;</span><span class="token punctuation">,</span>\n\t\t\t<span class="token property">&quot;args&quot;</span><span class="token operator">:</span><span class="token string">&quot;start&quot;</span>\n\t\t<span class="token punctuation">}</span>\n\t<span class="token punctuation">]</span>\n<span class="token punctuation">}</span>\n</code></pre><div class="line-numbers"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div></li><li><p>提交更新</p></li><li><p>查看自动部署状态</p></li><li><p>访问网站</p></li><li><p>提交更新</p><ul><li><p>git add .</p></li><li><p>git commit -m &#39;部署更新测试&#39;</p></li><li><p>git push</p></li><li><p>git add .</p></li><li><p>git tag v0.1.0 // 创建标签</p></li><li><p>git tag // 查看标签</p></li><li><p>git push origin v0.1.0 // 推送</p></li></ul></li>',6),rn={render:function(n,s){const a=(0,l.up)("OutboundLink");return(0,l.wg)(),(0,l.j4)(l.HY,null,[m,(0,l.Wm)("ul",null,[u,p,(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("a",c,[o,(0,l.Wm)(a)])])]),(0,l.Wm)("li",null,[(0,l.Wm)("p",null,[(0,l.Wm)("a",W,[i,(0,l.Wm)(a)])])]),k]),r,b,g,d,U,h,x,v,f,j,_,y,w,N,q,S,C,L,H,z,M,(0,l.Wm)("ol",null,[(0,l.Wm)("li",null,[(0,l.Wm)("a",D,[I,(0,l.Wm)(a)])]),(0,l.Wm)("li",null,[(0,l.Wm)("a",P,[G,(0,l.Wm)(a)])]),J,V,A]),T,O,E,R,B,F,K,Q,Y,Z,$,X,nn,(0,l.Wm)("ul",null,[(0,l.Wm)("li",null,[sn,(0,l.Wm)("a",an,[ln,(0,l.Wm)(a)])]),(0,l.Wm)("li",null,[tn,(0,l.Wm)("a",en,[mn,(0,l.Wm)(a)])])]),un,(0,l.Wm)("ul",null,[pn,(0,l.Wm)("li",null,[cn,(0,l.Wm)("p",null,[(0,l.Wm)("a",on,[Wn,(0,l.Wm)(a)])])]),kn])],64)}}}}]);